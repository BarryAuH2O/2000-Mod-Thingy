e = campaignTrail_temp;

            nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#b1485d";

            nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#a6a6a6";

            document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

            $("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

            $(".container")[0].style.backgroundColor = "#6869a6";

            document.getElementById("header").src = "blob:https://imgur.com/719c98da-5cb3-47e7-bda0-9e5bfd210b15";

            document.body.background = "https://i.pinimg.com/originals/77/72/f5/7772f519407c0900fbeece5eb3ef6164.jpg";

quotes = ["”Politics is not about power.” - Paul Wellstone", "Dedicated to Paul Wellstone", "”Politics is not about power.” - Paul Wellstone", "”I'd like to think of myself as the flavor of the decade.” - Ron Paul", "”I'd like to think of myself as the flavor of the decade.” - Ron Paul", "I’m mad as hell and not gonna take it anymore!’", "Dedicated to Paul Wellstone"]
            customquote = quotes[Math.floor((Math.random() * quotes.length))]

            corrr = `\n<h2>The New Campaign Trail</h2><font id='wittyquote' size='3.5' color='#ffffff'><em>` + customquote + `</em></font>`

            e.election_json = [{"model":"campaign_trail.election","pk":9,"fields":{"year":2000,"summary":"<p>Moderates reel as Ron Paul and Paul Wellstone have been crowned as their respective parties nominee. As America enters a new decade, the voters must not choose between progress and tradition, but what type of progress they would like.</p><p><ul><li>Paul's nomination has emboldened the libertarian movement, and wishes to decrease government authority and push for massive tax cuts.</li><li>Wellstone, a leading voice in the progressive movement, hopes to push not just his country left, but his party.</li></p>","image_url":"https://media.discordapp.net/attachments/1143656731247923232/1249723541776109639/image.png?ex=6668573f&is=666705bf&hm=fdcc1c108e3f5378327f02426604b63d6da29b1b5107c17370701dc4808f091e&=&format=webp&quality=lossless&width=1137&height=662","winning_electoral_vote_number":270,"advisor_url":"https://media.discordapp.net/attachments/1143656731247923232/1249724589517570150/image.png?ex=66685838&is=666706b8&hm=5349d27ea2c0a30683b7e2cdad125babbeb987e580d5487bbd6fcd584caa0a82&=&format=webp&quality=lossless&width=1178&height=662","recommended_reading":"<ul>\n<li><a href=https://www.chicagotribune.com/opinion/editorials/ct-edit-chicago-tribune-biden-endorsement-20200925-lnyxsb5qvrftnjjmj3rnzj33jy-story.html>Our Case For Joe Biden</a></li>\n<li><a href=https://nationalinterest.org/feature/case-trump-166808>The Case For Trump</a></li>\n<li><a href=https://www.npr.org/2020/11/18/935730100/how-biden-won-ramping-up-the-base-and-expanding-margins-in-the-suburbs>How Biden Won: Ramping Up The Base And Expanding Margins In The Suburbs</a></li>\n<li><a href=https://www.prospectmagazine.co.uk/politics/donald-trump-joe-biden-us-election-almost-win-votes-concede>Why Did Trump Almost Win?</a></li>\n<li><a href=https://www.hoover.org/research/no-evidence-voter-fraud-guide-statistical-claims-about-2020-election>No Evidence For Voter Fraud: A Guide To Statistical Claims About The 2020 Election</a></li>\n</ul>","has_visits":1,"no_electoral_majority_image":"../static/images/2012-no-majority.jpg"}}];e.temp_election_list = [{"id":9,"year":2000,"is_premium":0,"display_year":"2000И"}];e.credits = "AuH₂O. Credit to 2000N for music player.";e.global_parameter_json = [{"model":"campaign_trail.global_parameter","pk":1,"fields":{"vote_variable":1.125,"max_swing":0.12,"start_point":0.94,"candidate_issue_weight":10,"running_mate_issue_weight":3,"issue_stance_1_max":-0.71,"issue_stance_2_max":-0.3,"issue_stance_3_max":-0.125,"issue_stance_4_max":0.125,"issue_stance_5_max":0.3,"issue_stance_6_max":0.71,"global_variance":0.01,"state_variance":0.005,"question_count":25,"default_map_color_hex":"#C9C9C9","no_state_map_color_hex":"#999999"}}];e.candidate_json = [{"model":"campaign_trail.candidate","pk":1001,"fields":{"first_name":"Paul","last_name":"Wellstone","election":9,"party":"Democratic","state":"Minnesota","priority":1,"description":"<b><i>\"Sometimes, the only realists are the dreamers.\"</i></b><br><br>Senator Paul Wellstone has never been one to conform, but also never one to surrender. As a two term senator, he's been a feirce advocate for labor rights, social justice, and healthcare access, making him a progressive voice in an increasingly centrist party. Despite pundits saying he wouldn't be able to defeat Gore, he's shown that Democrats are fed up with moderates hijacking the party of Roosevelt.<br><br>Wellstone's campaign is a mirror of what he's been saying as Senator and in the primaries: Universal healthcare, raising the minimum wage, protecting our workers, and raising taxes on the wealthy. However, the question of how accepting Americans are of this wing of the Democratic party is yet to be seen, and such a big pivot from the Clinton years is sure to turn off his diehard supporters and moderates. If Wellstone wants to pull off a win, he'll need to find a way to expand his coalition without disregarding his most diehard supporters.","color_hex":"#4f527b","secondary_color_hex":null,"is_active":1,"image_url":"https://i.imgur.com/7kzc9y3.png":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":null,"candidate_score":1,"running_mate":false,"scrollable":false}},{"model":"campaign_trail.candidate","pk":1002,"fields":{"first_name":"Ron","last_name":"Paul","election":9,"party":"Republican","state":"Texas","priority":1,"description":"Dummy Example is a veteran from Hell. He loves puppies and magic! Dummy Example will unite America!<br><br>New line<br><br>This is <b>bold</b> and this <i>italic</i>!","color_hex":"#995673","secondary_color_hex":null,"is_active":1,"image_url":"https://i.imgur.com/PD96ZFZ.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":null,"candidate_score":1,"running_mate":false,"scrollable":false}},{"model":"campaign_trail.candidate","pk":1003,"fields":{"first_name":"Jeanne","last_name":"Shaheen","election":9,"party":"Democratic","state":"New Hampshire","priority":1,"description":"Skibidi<br><br>New line<br><br>This is <b>bold</b> and this <i>italic</i>!","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/B0TwERd.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"Dummy Example is a veteran from Hell. He loves puppies and magic! Dummy Example will unite America!<br><br>New line<br><br>This is <b>bold</b> and this <i>italic</i>!","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"0"}},{"model":"campaign_trail.candidate","pk":1004,"fields":{"first_name":"Bill","last_name":"Bradley","election":9,"party":"Democratic","state":"New Jersey","priority":1,"description":"Dummy Example is a veteran from Hell. He loves puppies and magic! Dummy Example will unite America!<br><br>New line<br><br>This is <b>bold</b> and this <i>italic</i>!","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://usrussiaaccord.org/wp-content/uploads/2015/05/Sen-Bill-Bradley.jpg","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"Dummy Example is a veteran from Hell. He loves puppies and magic! Dummy Example will unite America!<br><br>New line<br><br>This is <b>bold</b> and this <i>italic</i>!","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"0"}},{"model":"campaign_trail.candidate","pk":1005,"fields":{"first_name":"Pete","last_name":"Wilson","election":9,"party":"Republican","state":"California","priority":1,"description":"Dummy Example is a veteran from Hell. He loves puppies and magic! Dummy Example will unite America!<br><br>New line<br><br>This is <b>bold</b> and this <i>italic</i>!","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/6lvKSDI.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"Dummy Example is a veteran from Hell. He loves puppies and magic! Dummy Example will unite America!<br><br>New line<br><br>This is <b>bold</b> and this <i>italic</i>!","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"1"}},{"model":"campaign_trail.candidate","pk":1006,"fields":{"first_name":"Bob","last_name":"Barr","election":9,"party":"Republican","state":"Georgia","priority":1,"description":"Dummy Example is a veteran from Hell. He loves puppies and magic! Dummy Example will unite America!<br><br>New line<br><br>This is <b>bold</b> and this <i>italic</i>!","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/N8EsZbJ.png":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"Dummy Example is a veteran from Hell. He loves puppies and magic! Dummy Example will unite America!<br><br>New line<br><br>This is <b>bold</b> and this <i>italic</i>!","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"1"}}];e.running_mate_json = [{"model":"campaign_trail.running_mate","pk":2001,"fields":{"candidate":1001,"running_mate":1003}},{"model":"campaign_trail.running_mate","pk":2002,"fields":{"candidate":1001,"running_mate":1004}},{"model":"campaign_trail.running_mate","pk":2003,"fields":{"candidate":1002,"running_mate":1005}},{"model":"campaign_trail.running_mate","pk":2004,"fields":{"candidate":1002,"running_mate":1006}}];

// Soundtrack

// Initialise custom music

$("#music_player")[0].children[0].style.display="none"
$("#music_player")[0].children[1].style.display="none"

document.getElementById("modLoadReveal").style.display="none"
document.getElementById("modloaddiv").style.display="none"

musicBox = document.getElementById("music_player")
musicBox.style.display=""

var trackSel;
e = campaignTrail_temp
e.selectedSoundtrack = 0

toTime = (seconds) => {
  var date = new Date(null);
  date.setSeconds(seconds);
  return date.toISOString().substr(11, 8);
}

generateTime = () => {
    // Get the audio element
    var audio = document.getElementById("campaigntrailmusic");

    timeTracker = document.createElement("div");
    timeTracker.style = `
      text-align:left;
      border-style:solid;
      border-width:3px;
      height:150px;
      width:200px;
      background-color:#999999;
      float:right;
      padding: 10px;
    `
    $("#trackSelParent")[0].prepend(timeTracker);
    $("#trackSelParent")[0].prepend(document.createElement("br"));

    // Create a new element to display the current position of the audio
    var positionDisplay = document.createElement("gg");
    positionDisplay.id = "position-display";

    // Create a new slider element to change the time
    var timeSlider = document.createElement("input");
    timeSlider.type = "range";
    timeSlider.min = 0;
    timeSlider.max = 1;
    timeSlider.step = 0.001;
    timeSlider.value = 0;
    timeSlider.style.width = "200px";
    timeSlider.id = "time-slider";

    var pausePlay = document.createElement("button");
    pausePlay.id = "position-display";
    pausePlay.innerHTML = "<b>Pause</b>"
    pausePlay.style.width = "100%";


    pausePlay.addEventListener("click", event => {
      event.preventDefault();
      updatePositionDisplay();
      let audio = document.getElementById("campaigntrailmusic");
      if (audio.paused) {
        audio.play();
        event.target.innerHTML = "<b>Pause</b>";
        return;
      }
      audio.pause();
      event.target.innerHTML = "<b>Play</b>";
      return;
    })

    var volumeLabel = document.createElement("gg");
    volumeLabel.id = "volume-label";
    volumeLabel.innerHTML = "<br><b>Volume: </b>"

    var volumeSlider = document.createElement("input");
    volumeSlider.type = "range";
    volumeSlider.min = 0;
    volumeSlider.max = 1;
    volumeSlider.step = 0.001;
    volumeSlider.value = 0;
    volumeSlider.style.width = "200px";
    volumeSlider.id = "volume-slider";

    volumeSlider.value = audio.volume;

    timeTracker.appendChild(pausePlay);
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(positionDisplay);
    timeTracker.appendChild(timeSlider);
    timeTracker.appendChild(volumeLabel);
    timeTracker.appendChild(volumeSlider);

    updatePositionDisplay();

    //for (let i = 0; i < 10; i++)
    //timeTracker.append(document.createElement("br"));


    // Function to update the position display
    function updatePositionDisplay() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
    }

    // Function to change the time of the audio
    function changeTime() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      audio.currentTime = timeSlider.value * audio.duration;
    }

    updateVolume = event => {
      audio.volume = event.target.value;
    }
    
    // Update the position display and slider every second
    setInterval(updatePositionDisplay, 1000);

    // Listen for changes to the time slider and change the time of the audio
    timeSlider.addEventListener("input", changeTime);
    volumeSlider.addEventListener("input", updateVolume)
}

function newMusicPlayer() {
  trackSel = document.createElement("div");
  trackSel.id = "trackSelParent"
  let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
  z += `<b><select id='selectSoundtrack'><option value='`+soundtracks[e.selectedSoundtrack].name+`'>`+soundtracks[e.selectedSoundtrack].name+"</option>"
  for (i in soundtracks) {
    if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
      z += `<option value='`+soundtracks[i].name+`'>`+soundtracks[i].name+`</option>`
    }
  }
  z += `</select></b><br><br>`
  // <label><input type="radio" name="option" value="option1">Option 1</label><br>
  for (i in soundtracks[e.selectedSoundtrack].tracklist) {
    let a = soundtracks[e.selectedSoundtrack].tracklist[i]
    let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="`+i+`">`+a.name+`</label><br>`
    z += b
  }
  z += "</div><br><br>"
  trackSel.innerHTML = z

  // select correct song

  musicBox.appendChild(trackSel);
  Array.from(document.getElementById("trackSel").children).filter(f=>{
    return f.tagName == "LABEL"
  }).map(f=>f.children[0])[0].checked = true

  // set soundtrack changer

  soundtrackSelector = document.getElementById("selectSoundtrack")
  soundtrackSelector.onchange = function() {
    for (i in soundtracks) {
      if (soundtracks[i].name == soundtrackSelector.value) {
        e.selectedSoundtrack = i
        break
      }
    }
    document.getElementById("trackSelParent").remove()
    newMusicPlayer()
  }

  var matches = document.querySelectorAll('.trackSelector');

  for (match in matches) {
    matches[match].onchange = function() {
      audio = $("#campaigntrailmusic")[0];
      audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
      audio.currentTime = 0
    }
  }

  musicBox.children[2].loop = false
  musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url

  musicBox.children[2].onended = function() {
    console.log("next track")
    let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
    let newSel = clamp(selected+1, soundtracks[e.selectedSoundtrack].tracklist.length-1, 0)
    let buttons = Array.from(document.getElementById("trackSel").children).filter(f=>{
      return f.tagName == "LABEL"
    }).map(f=>f.children[0])
    //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
    buttons[newSel].click()
  }

  for (w = 0; w < 7; w++) {
    document.getElementById("trackSelParent").appendChild(document.createElement("br"))
  }
  
  generateTime();
}

clamp = function(a, max, min, overflow=true) {
  if (overflow) {
    return a > max ? min : a < min ? max : a;
  }
  return a > max ? max : a < min ? min : a;
}


// Track list

var soundtracks = {
  0: {
    name: "A New Left",
    tracklist: [
      {
        "name": "Butthole Surfers - Dracula From Houston",
        "url": "https://od.lk/s/OV8yMzEzMDY3NThf/spotifydown.com_-_Dracula_From_Houston.mp3"
      },
      {
        "name": "Rage Against the Machine - Testify",
        "url": "https://od.lk/s/OV8yMzEzMDY4NzBf/spotifydown.com%20-%20Testify.mp3"
      },
     {
        "name": "Green Day - Minority",
        "url": "https://od.lk/s/OV8yMzEzMDcwNjFf/spotifydown.com%20-%20Minority.mp3"
      },
      {
        "name": "The Offspring - Why Don’t you Get a Job",
        "url": "https://od.lk/s/OV8yMzEzMDcwNjdf/spotifydown.com%20-%20Why%20Don%27t%20You%20Get%20A%20Job.mp3”
  }
    ]
  },
  1: {
    name: "RƎVOLUTION",
    tracklist: [
      {
        "name": "M.C. Hammer - U Can't Touch This",
        "url": "https://od.lk/s/OThfMzk2Nzg5ODdf/cant%20touch%20this.mp3"
      },
      {
        "name": "Spice Girls - Wannabe",
        "url": "https://od.lk/s/OThfMzk2Nzg5OTFf/wannabe.mp3"
      },
     {
        "name": "Coolio - Gangsta's Paradise",
        "url": "https://od.lk/s/OThfMzk2Nzg5OTBf/gangstah%20para.mp3"
      },
      {
        "name": "Nirvana - Smells Like Teen Spirit",
        "url": "https://od.lk/s/OThfMzk2Nzg5OTJf/smeells%20like%20spirit.mp3"
      },
      {
        "name": "Radiohead - Creep",
        "url": "https://od.lk/s/OThfMzk2Nzg5ODlf/creep.mp3"
      }
    ]
  }
}

// Set up new music player

newMusicPlayer()


function modifyForm() {
  try {
    const form = document.querySelector('form[name="game_type_selection"]');
    const select = form.querySelector('select[name="game_type_id"]');
  
    // change option value
    const option = select.querySelector('option[value="1"]');
    option.textContent = 'Default (Proportional)';

    // Remove second option
    select.querySelector('option[value="1"]').remove();
  
    // change h3 text
    const h3 = form.querySelector('h3');
    h3.textContent = 'How would you like the seats to be allocated?';
  } catch {}
}


 campaignTrail_temp.credits = "<button onclick='credits()'>AuH₂O and Others</button>";

  HistHexcolour=["#325396","#8f2c2c","#5e4e34","#3aae75"]; HistName=[" Paul Wellstone"," Ron Paul"," Lowell Weicker"," Buchanan/Other Candidates"]; HistEV=[327,211,0,0]; HistPV=["46,595,267","40,369,988","48,104,421","2,546,704"]; HistPVP=["49.4%","42.8%","5.1%","2.7%"];

  credits = function() {
    credits = ["Concept, Coding & Writing", "AuH₂O", "", "Music Player implementation, and just generally being a great help and guy", "LP_is_Here", "", "Other Thanks:", "Decstar (for the Music Player code)", "Jimbo (Credits button code, also for making good mods)"]
    text = "CREDITS:\n\n"
    for (i in credits) {
        text += credits[i] + "\n"
    }
    alert(text)
  }

  campaignTrail_temp.modBoxTheme = {
    "header_color": "#000000",
    "header_text_color": "#ffffff",
    "description_text_color": "#ffffff",
    "description_background_color": "#5e5e80",
    "main_color": "#242b4d",
    "secondary_color": "#6361a6",
    "ui_text_color": "#FFFFFF"
}

//#endcode
